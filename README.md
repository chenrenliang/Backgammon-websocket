<h3>1、安装与运行</h3>

请完整的down下除了node_modules文件夹以外的所有文件，然后在控制台运行 ``npm install``来进行安装。

安装完毕后，通过 ``npm start`` 命令来运行服务器，然后通过 ``127.0.0.1`` 来访问页面

##2、简单介绍

通过websocket技术，建立长连接，实现五子棋网络对战功能。

具有以下功能：

1. 分为大厅（默认位置）及独立房间（新建房间或者进入房间后的位置）；
2. 不同的独立房间互不影响；
3. 支持大厅聊天；
4. 支持房间内部聊天；
5. 实时更新当前全部在线人数、以及开启的房间数、服务器时间；
6. 无人房间自动删除；
7. 离开房间时对玩家、以及同房间内玩家自动提示；
8. 支持三种角色：黑色下棋方、白色下棋方、观战者（不限人数）；
9. 支持房间内角色自由切换；
10. 黑方和白方同时存在时可以开始游戏；
11. 记录游戏的上一局胜利者；
12. 支持胜利条件判定，并提示胜利原因；
13. 支持一局游戏结束后可以重新开始；
14. 自动标注上一子下的地方；
15. 可以从房间内返回大厅；
16. 可以自动更换新名字（目前是随机生成，但修改为自定义只需要添加一个输入框即可，修改一下客户端逻辑即可）；

##3、服务器端介绍

###3.1、socket.io

nodejs服务器端socket.io库，在socketIO文件夹里的socketIO.js文件中引入。

效果是实现服务器端的长连接功能。


###3.2、socketIO.js

服务器端通信事件的处理逻辑所在。

本文件内引入了三个模块：

1. models/fun：公有函数模块；
2. models/roomList：五子棋功能核心模块，具体在下面细说；
3. socket.io：socket.io库，长连接实现的模块；

本函数在引入socket.io库后，和http服务器绑定（因为使用的是express服务器），然后通过返回的io实例来监听用户连接和绑定事件。

另外，由于socket.io引入的实例，需要通过http服务器进行绑定后才有效，因此模块导出init函数，在bin文件夹中的www文件引入，并调用，实现事件绑定监听功能。

###3.3、roomList.js

实现五子棋功能的核心模块。

本页面里以RoomList为构造函数，然后相关功能作为RoolList的扩展函数来实现。

包括以下方法：

1. 创建空房间；
2. 加入房间；
3. 退出房间；
4. 清除空的游戏房间；
5. 获取当前开启中的房间数；
6. 通过用户，查找用户角色，用户所在的房间的信息，用户所在房间的ID；
7. 房间内用户角色切换（黑、白、观战方切换）；
8. 向本房间内所有人通报消息；
9. 遍历房间内所有用户，并执行回调函数；
10. 遍历每个不在游戏房间中的人（即在游戏大厅）；
11. 遍历每个房间的每个人，向其更新其所在房间的信息；
12. 对当前房间的所有人更新本房间的信息（11和2中会调用）；
13. 传入用户当前下棋的这一步，返回是否可以下棋；
14. 判定当前房间是否有胜利者（如果有，则会在13中检测谁是胜利者）；

私有函数三个：

1. 判断当前下棋情况是否符合胜利条件；
2. x,y坐标和索引坐标转换函数；
3. 过滤越界情况的过滤器；

